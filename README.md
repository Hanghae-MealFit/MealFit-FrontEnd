# ⏰ **MealFit** 💪


👉🏻 Web Site : **http://mealfit.co.kr/**

💻 시연 영상 : 
[**Youtube**](https://)

🔗 팀 노션 : [**페이지**](https://www.notion.so/mealfit/71bb3a54c8cf43d2975dc8acbde1ddfb)  
  


## **🍳 MealFit의 핵심 기능**
- 설정한 간헐적 단식 시간을 타이머 형식으로 볼 수가 있다.
- 몸무게를 그래프를 통하여 변화를 관찰 할 수가 있다.
- 식단을 입력하면 그 식단의 섭취량에 따라 목표하는 영양성분에 대해 관리 할 수 있다.
---
### **🙌 프로젝트 소개**  
#### **👨‍👧‍👧 개발기간**
##### **2022.08.05 ~ 2022.09.16**
---
#### **👨‍👧‍👧 개발기간 및 팀원소개**
<!-- |이름|FE / BE|Github 주소|담당|
|---|---|---|---|
|구자현🔰|BE|https://github.com/9JaHyun|회원가입, CI/CD|
|백지영|BE|https://github.com/catgirl0313|로그인(일반, 카카오, 네이버, 구글)|
|안홍주|BE|https://github.com/hongju22|게시글, S3 이미지, 댓글|
|이창호|BE|https://github.com/chlee1234|식단 기록하기, 음식 검색|
|정종성🔰|FE|https://github.com/JJSEONG| |
|이 봄|FE|https://github.com/bom-Lee| | -->

[<img src="https://img.shields.io/badge/SPRING-구자현-brightgreen?style=for-the-badge"/>](https://github.com/9JaHyun) 🔰  
[<img src="https://img.shields.io/badge/SPRING-백지영-brightgreen?style=for-the-badge"/>](https://github.com/catgirl0313)  
[<img src="https://img.shields.io/badge/SPRING-안홍주-brightgreen?style=for-the-badge"/>](https://github.com/hongju22)  
[<img src="https://img.shields.io/badge/SPRING-이창호-brightgreen?style=for-the-badge"/>](https://github.com/chlee1234)  

[<img src="https://img.shields.io/badge/REACT-정종성-blue?style=for-the-badge"/>](https://github.com/JJSEONG) 🔰  
[<img src="https://img.shields.io/badge/REACT-이봄-blue?style=for-the-badge"/>](https://github.com/bom-Lee)  


---
### **📋 와이어 프레임**
👉🏻 [**바로가기**](https://www.notion.so/mealfit/99-1-Keukppock-MealFit-0b5590c999274a9ba1271e85774778fd#44d92648e1f6465e927f4116592c18c6)


---
### **🏷 API Table**
👉🏻 [**바로가기**](https://www.notion.so/mealfit/99-1-Keukppock-MealFit-0b5590c999274a9ba1271e85774778fd#ec54c369f1ad46608ce71656df6ddbf8)


---
## 서비스 아키텍쳐
![아키텍쳐](https://user-images.githubusercontent.com/97043760/190020857-6d54642a-7146-4b22-8644-e31984afccd6.png)
![cicd](https://user-images.githubusercontent.com/97043760/190021299-5470c21f-3ef8-43b8-ab3d-d16a782daf41.png)

---
### **🔨 사용한 기술스택**


#### **Back-end**  
<img src="https://camo.githubusercontent.com/ebd60befd49443c14417baff1700c7887f1a3c9c171612b2021a24c597e4b2ea/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72656469732d2532334444303033312e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d7265646973266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/92407fc26e09271d8137b8aaf1585b266f04046b96f1564dfe5a69f146e21301/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4a57542d3030303030303f7374796c653d666f722d7468652d6261646765266c6f676f3d4a534f4e253230776562253230746f6b656e73266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/7473d140f66003ad4a8053a8b462b32097303a202cc819827e5f8fd82171e61f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f537072696e67626f6f742d34373f7374796c653d666f722d7468652d6261646765266c6f676f3d537072696e67626f6f74266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/a4a4a017a5d519d7c4ce2a3cd3d2194fb7af4b1ca424850784565007c2acc7d8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d7953514c2d3030354338343f7374796c653d666f722d7468652d6261646765266c6f676f3d6d7973716c266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/3cc8eb3e3705250f3d4e19adcb36c55563d37cb19e8fc0792a0fc07a4e6e2e91/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f416d617a6f6e5f4157532d4646393930303f7374796c653d666f722d7468652d6261646765266c6f676f3d616d617a6f6e617773266c6f676f436f6c6f723d7768697465" />  


#### **Front-end**
<img src="https://camo.githubusercontent.com/f6daa352b28199320a11f606bbe66f4b34b353af61e4ad091062b88c4d147c60/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6a6176617363726970742d4637444631453f7374796c653d666f722d7468652d6261646765266c6f676f3d6a617661736372697074266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/c669563d996f1f513e7395681cc8409851b335b12adda8fffc3391e8f46ea2dc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72656163742d3631444146423f7374796c653d666f722d7468652d6261646765266c6f676f3d7265616374266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/5c8bad2196530bd24d885652615ce6198f87908e981e2727ba7b9f613261116f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f52656475782d3736344142433f7374796c653d666f722d7468652d6261646765266c6f676f3d5265647578266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/d1a61dccdba51c4d1ff3306fe00404de9162915d282bade8ef91b992f84ebd35/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6373732d3135373242363f7374796c653d666f722d7468652d6261646765266c6f676f3d63737333266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/6059e99dbfb4fb6ef8559d94607d012469459779063f3fc4b7b92d77e90ae827/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7374796c656420636f6d706f6e656e74732d4442373039333f7374796c653d666f722d7468652d6261646765266c6f676f3d7374796c65642d636f6d706f6e656e7473266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/34ad999786f3f76cc390c3212307a4bbc53e9829c4185c0c0625e364f5e3538e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4178696f732d3138313731373f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/f5e36b504a7091d22de49844ec28d7b50723774c367b6133fb25dd73e4876b92/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f416d617a6f6e2053332d3536394133313f7374796c653d666f722d7468652d6261646765266c6f676f3d416d617a6f6e205333266c6f676f436f6c6f723d7768697465" />  

#### **Dev tools**
<img src="https://camo.githubusercontent.com/a0484e6383e852e622da1e934b7724921ab9b69d69246d90f899424b01f6deb1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f56697375616c25323053747564696f253230436f64652d3030373864372e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d76697375616c2d73747564696f2d636f6465266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/ec0d32e85caf4723d5182a75338c89f85a2c3679aed0c46c9ee9fd1c8dc2a316/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769742d2532334630353033332e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d676974266c6f676f436f6c6f723d7768697465" /> <img src="https://camo.githubusercontent.com/ad176bb5a61237550550e47d7e77dd5d1a846518df44c522d2ba9c0a7da6379c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d3138313731373f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d7768697465" />  

---
### **⚽ Trouble Shooting**

### ✔️ **SetInterval Infinity Re-Rendering**

**`요구사항`**

SetInterval을 1초로 설정해두었는데, 시간이 변할때마다, 리렌더링이 필요하지 않은 내용까지 같이 리렌더링 되는 상황이 발생.

**`선택지`**

1안) React.memo를 사용하여 메모이제이션을 사용
2안) Main에 사용한 시계의 내용을 Circle과 Time 컴포넌트로 따로 분리
3안) 컴포넌트 분리 후, Main의 state값을 Circle 컴포넌트로 

**`의견 조율`**

1.불필요한 값이 계속 리렌더링되어 무리를 줄 수 있다.
2.불필요한 리렌더링 값을 제거하자.

**`의견 결정`**

State값이 변화하면 리렌더링이 진행이 되므로, Circle과 Time 컴포넌트로 따로 분리하고, Main에서 리렌더링이 이루어지지 않도록, State의 값을 Main이 아닌 Circle로 옮겨서 사용하면 메모이제이션을 하지 않고도 리렌더링을 막을 수 있었음.

### ✔️ 새로고침 진행 시, user정보 사라지는 오류

**`요구사항`**

어떤 페이지에서 새로고침을 누르면 user 정보가 사라지는 상황이 발생, 사용가자 새로고침을 할 수도 있기 때문에 처리해야 하는 상황

**`선택지`**

1안) 부모 컴포넌트에게서 props를 받아 변경 시 다시 리렌더링 될 수 있게 변경
2안) 새로고침이 되면 useEffect가 발동하여, 유저 정보를 다시 axios를 통해 통신할 수 있도록 변경

**`의견 조율`**

1.새로고침이 되면 렌더링이 다시 되도록 진행
2.새로고침이 되었을 때, 다시 통신 하는게 너무 불필요한 통신이다. 

**`의견 결정`**

새로고침이 될 때 마다, 통신을 해야하는 것은 불필요한 내용이 진행되는 것은 분명하지만, 현재 코드로는 부모 컴포넌트에서 받아 올 수가 없어 구조를 변경해야 하는 상황으로, 시간이 부족하여 구조 변경이 불가능하여 불가피하게 통신을 다시 시작하도록 결정.

### ✔️ CI/CD 적용

**`요구사항`**

Front-end와 협업 시 코드 배포를 해야하는 상황이 빈번히 발생하였고, filezila를 통한 수동 배포와 배포 이후 에러가 확인되어 재배포하는 일이 잦아짐에 따라 배포에 많은 시간이 소요되어 배포 자동화를 통해 효율적인 협업 및 작업 환경을 구축하기 위함

**`선택지`**

1안) Jenkins
2안) Github Action

**`의견 조율`**

1.Jenkins를 사용하기 위해선 서버 설치가 필요하다. 하지만 참고할 수 있는 레퍼런스가 많으며, PipeLine 생성이 용이함.
2.Github Actions는 별다른 설치 및 복잡한 절차 없이 사용 가능함.

**`의견 결정`**

처음에는 간단하게 구축가능한 Github Actions를 사용하기로 결정했으나, 이후 추가적인 작업들이 필요하고, 레퍼런스의 양이 많아 참고하기 쉬운 Jenkins를 채택함.

### ✔️ Event Sourcing 적용하기

**`요구사항`**

회원가입 시 회원 인증 이메일 전송을 하는데 동기 처리를 하다보니 회원가입 시간 자체가 길어짐.
회원가입 시간 텀을 줄일 방법이 필요.

**`선택지`**

1안) 비동기 처리
2안) Event Sourcing 

**`의견 조율`**

1.비동기 처리가 간단하게 설정하기는 쉽다. (@Async)
2.이벤트 소싱은 비동기 처리보다는 고려해야 할 점이 많다. 하지만, 비동기 처리보다는 후처리 확장성이 크고, 이후 MSA, CQRS 등을 고려하자면 이벤트 소싱 방향으로 잡는 편이 유리할 수 있다.

**`의견 결정`**

일단 기능 구현이 우선되어야 하기 때문에 비동기 처리 방향으로 가나, 이후 발전 가능성을 위해 천천히 이벤트 처리로 마이그레이션으로 결정.
